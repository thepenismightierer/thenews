(function(e){function t(t){for(var n,a,c=t[0],o=t[1],l=t[2],d=0,m=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&m.push(s[a][0]),s[a]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,c=1;c<i.length;c++){var o=i[c];0!==s[o]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=i[0]))}return e}var n={},s={app:0},r=[];function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var n=i("64a9"),s=i.n(n);s.a},"0b97":function(e,t,i){"use strict";var n=i("500d"),s=i.n(n);s.a},1716:function(e,t,i){"use strict";var n=i("f8a3"),s=i.n(n);s.a},2480:function(e,t,i){e.exports=i.p+"img/461px-Bitcoin_logo.svg.b897f24e.png"},"283b":function(e,t,i){"use strict";var n=i("712a"),s=i.n(n);s.a},"30db":function(e,t,i){"use strict";var n=i("caf9"),s=i.n(n);s.a},"3f10":function(e,t,i){"use strict";var n=i("52ca"),s=i.n(n);s.a},4678:function(e,t,i){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="4678"},4899:function(e,t,i){},"500d":function(e,t,i){},"52ca":function(e,t,i){},5451:function(e,t,i){"use strict";var n=i("8c10"),s=i.n(n);s.a},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("a026"),s=i("8c4f"),r=i("7212"),a=i.n(r),c=i("f13c"),o=i.n(c),l=i("6afc"),u=i("d7b0"),d=(i("96cf"),i("3b8d")),m=(i("a481"),i("2f62")),f=(i("c5f6"),i("28a5"),i("55dd"),i("7f7f"),i("ac6a"),i("a91b")),p=i.n(f),h=i("04ef"),b=i.n(h),v=i("0430"),g=i.n(v),_=!1,w={sections:[{title:"world",name:"news-world"},{title:"canada",name:"news-canada"},{title:"politics",name:"news-politics"},{title:"business",name:"news-business"},{title:"tech & science",name:"news-technology"},{title:"indigenous",name:"news-indigenous"},{title:"opinion",name:"news-opinion"},{title:"health",name:"news-health"},{title:"calgary",name:"news-canada-calgary"},{title:"sports",name:"sports"},{title:"top stories",name:"news"}],getSections:function(){var e={};return this.sections.forEach((function(t,i){return e[t.title]={title:t.title,url:"https://www.cbc.ca/aggregate_api/v1/items?pageSize=40&lineupSlug=".concat(t.name),load:0===i,loaded:!1,briefs:[]}})),e},getArticle:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="https://www.cbc.ca/json/cmlink/".concat(t),e.next=3,p.a.get(i).then(function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.data,e.abrupt("return",i);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return n=e.sent,e.next=6,this.unfuck(n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getBriefs:function(e){return p.a.get(e.url).then((function(e){var t=e.data;return t.sort((function(e,t){return t.publishedAt-e.publishedAt})),e.data})).then((function(t){var i=[];return t=t.filter((function(t){var n=!1;if(i.length<28&&i.indexOf(t.sourceId)<0)switch(i.push(t.sourceId),t.type){case"audio":case"stub":case"video":break;case"story":n=!0;break;default:break}return t.sectionTitle=e.title,t.article={leadimage:{originalimage:{}},attribution:{authors:[]},similars:[],pieces:[]},t.url="https://www.cbc.ca/json/cmlink/".concat(t.sourceId),n})),t}))},getImage:function(e,t,i){t=i.storyimages&&i.storyimages[0]&&i.leadimage.originalimage.fileurl===i.storyimages[0].originalimageurl?t+1:t;var n=i.storyimages[t];return n?{type:"image",index:t,key:e,url:n.originalimageurl,credit:n.credit,description:n.description}:this.getUnknown(e,t,"[IMAGE]")},getEmbed:function(e,t,i){var n=this.getUnknown(e,t,"[JUSTTEXT]"),s=i.embeddedcontent[t];if(s)switch(s.type){case"twitter":n={type:"twitter",index:t,key:e,body:s.body,url:s.url,credit:s.user};break;case"instagram":n={type:"instagram",index:t,key:e,url:s.url};break;case"facebookvideo":n={type:"facebookvideo",index:t,key:e,src:s.url};break;case"facebookpost":n={type:"facebookpost",index:t,key:e,src:s.url};break;case"youtube":n={type:"iframe",subtype:"video",index:t,key:e,src:"https://www.youtube.com/embed/".concat(s.id)};break;case"customhtml":n={type:"raw",subtype:"content",index:t,key:e,body:s.html};break;default:break}return n},getSegmentMedia:function(e){var t="seg-0",i=0,n=this.getUnknown(t,i,"[SegmentMedia]");return e.segmentmedia&&"audio"===e.segmentmedia.mediatype&&(n={index:i,key:t,subtype:"audio",type:"iframe-audio",src:"https://www.cbc.ca/i/caffeine/syndicate/?mediaId=".concat(e.segmentmedia.mediaid),description:e.segmentmedia.deck}),n},getText:function(e,t){return t.length>0?{type:"text",value:t,key:e}:this.getUnknown(e,"none","[JUSTTEXT]")},getUnknown:function(e,t,i){return{type:"unknown",key:e,index:t,match:i}},getMedia:function(e,t,i){var n=this.getUnknown(e,t,"[MEDIA]"),s=i.media[t];if(s)switch(s.flag){case"Video":n={index:t,key:e,subtype:"video",type:"iframe-video",src:"https://www.cbc.ca/i/caffeine/syndicate/?mediaId=".concat(s.extattrib.mediaid),description:s.deck};break;case"Audio":n={index:t,key:e,subtype:"audio",type:"iframe-audio",src:"https://www.cbc.ca/i/caffeine/syndicate/?mediaId=".concat(s.extattrib.mediaid),description:s.deck};break;case"Live":n={index:t,key:e,subtype:"video",type:"iframe-video",src:"https://www.cbc.ca/i/caffeine/syndicate/?mediaId=".concat(s.extattrib.mediaid),description:s.deck};break}return n},getGallery:function(e,t,i){var n=i.photogalleries[t];return n?{index:t,key:e,type:"gallery",url:"https://www.cbc.ca/json/cmlink/".concat(n.id),description:n.deck}:this.getUnknown(e,t,"[PHOTOGALLERY]")},unfuck:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var i,n,s,r,a,c,o,l,u,d,m,f,h,v,w,k,y,j,x,C,S=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.pieces=[],t.leadimage=t.leadmedia.originalimage?t.leadmedia:t.headlineimage,t.attribution={authors:[],source:t.source&&t.source.length>0?t.source:null},i=[],t.author)for(n=0;n<t.author.authors.length;n++)s=t.author.authors[0],i.indexOf(s)<0&&(i.push(s),t.attribution.authors.push({key:"author".concat(n),name:s}));r=!1,a=function(e,t){var i=/(.*?[a-zA-Z]{2}[.])(?!(?:[a-zA-Z]\.){2,})/g,n=e.summary.split(i),s=t.value.split(i);s.slice(0,n.length).forEach((function(e){var i=!1;n.forEach((function(n){if(!i){var s=b()(e.trim(),{allowedTags:[]}).trim(),a=b()(n,{allowedTags:[]}).trim();if(s.length&&a.length){var c=g.a.compareTwoStrings(a,s);c>.9&&(t.value=t.value.replace(e,""),r=!0,i=!0)}}}))}))},t.debug=_,c=0,o=0,l=0,u=0,d=0,m=0,f=t.body.replace("&nbsp;"," "),f.replace(/\[IMAGE\]|\[EMBED\]|\[SIMILAR\]|\[MEDIA\]|\[PHOTOGALLERY\]/g,(function(e,i){var n=S.getText(d++,f.substring(m,i));switch(n&&t.pieces.push(n),e){case"[IMAGE]":t.pieces.push(S.getImage(d++,c++,t));break;case"[EMBED]":t.pieces.push(S.getEmbed(d++,o++,t));break;case"[MEDIA]":t.pieces.push(S.getMedia(d++,l++,t));break;case"[PHOTOGALLERY]":t.pieces.push(S.getGallery(d++,u++,t));break;case"[SIMILAR]":case"[CUSTOM]":default:t.pieces.push({type:"unknown",match:e,index:i});break}return m=i+e.length,e})),e.t0=regeneratorRuntime.keys(t.pieces);case 17:if((e.t1=e.t0()).done){e.next=40;break}if(h=e.t1.value,v=t.pieces[h],"gallery"!==v.type){e.next=25;break}return e.next=23,p.a.get(v.url).then((function(e){return e}));case 23:w=e.sent,w&&w.data.schema.image&&(v.images=w.data.schema.image);case 25:if("twitter"!==v.type){e.next=30;break}return e.next=28,p.a.jsonp("https://publish.twitter.com/oembed?url=".concat(v.url)).then((function(e){return e}));case 28:k=e.sent,k&&k.html&&(v.link=k.url,v.body=k.html,v.credit=k.author_name);case 30:if("instagram"!==v.type){e.next=37;break}return e.next=33,p.a.get("https://api.instagram.com/oembed?url=".concat(v.url)).then((function(e){return e.data}));case 33:y=e.sent,j=v.url.split("/"),j.pop(),y&&y.html&&(v.type="image",v.link=v.url,v.url="https://instagram.com/p/".concat(j.pop(),"/media/?size=l"),v.credit=y.author_name,v.description=y.title);case 37:!r&&"text"===v.type&&v.value&&a(t,v),e.next=17;break;case 40:return x=[],t.similarlinks.sort((function(e,t){return t.id-e.id})).forEach((function(e,i){x.indexOf(e.id)<0&&(x.push(e.id),"story"===e.type&&t.pieces.push({index:i,key:"similar-".concat(i),sourceId:e.id,sort:Number(e.id.replace("1.","")),title:e.headline,imageUrl:e.headlineimage.originalimageurl,deck:e.deck?e.deck:e.description,type:"similar",pubdate:e.pubdate}))})),C=this.getText(d++,f.substring(m)),C&&(!r&&C.value&&a(t,C),t.pieces.push(C)),t.pieces.forEach((function(e){if("text"===e.type){var t=e.value,i=["blockquote","cite","p","b","i","u","em","strong","h2","h1","a","ul","li"];t=b()(t.trim(),{allowedTags:i,exclusiveFilter:function(e){return"p"===e.tag&&!e.text.trim()}}).replace(/<blockquote/,'<blockquote class="quote blockquote text-center"').replace(/<cite/,'<footer><cite title="Source"').replace(/<\/cite>/,"</cite></footer>").replace(/\[CUSTOM\]/,"").trim(),e.value=t}})),e.abrupt("return",t);case 46:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()};n["default"].use(m["a"]),n["default"].prototype.$Vuex=m["a"];var k=new m["a"].Store({vm:Ai,state:{count:0,sections:w.getSections(),articles:{},article:{schema:{},body:"",pieces:[],articles:{},leadimage:{originalimage:{fileurl:null}},attribution:{authors:[],source:null}}},mounted:function(){},mutations:{fetchAnother:function(e){for(var t in e.sections){var i=e.sections[t];if(!0===i.load&&!1===i.loaded)break;if(!1===i.load){i.load=!0;break}}},setArticle:function(e,t){Ai.router.replace({name:"articleDetail",query:{id:t.id},params:{article:t.article}})},unsetArticle:function(e){e.article={schema:{},body:""}}},getters:{getArticle:function(e){return function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(i){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(i in e.articles)){t.next=4;break}return t.abrupt("return",e.articles[i]);case 4:return n=w.getArticle(i),e.articles[i]=n,t.next=8,n;case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},actions:{setArticleA:function(e,t){var i=e.state.sections[t.brief.sectionTitle],n=i.briefs,s=n[t.index];s.article=t.article,e.state.sections[t.brief.sectionTitle]=i},getBriefs:function(e,t){t.load&&!t.loaded&&w.getBriefs(t).then((function(e){t.loaded=!0,t.briefs=e}))}}}),y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("SuckWrapper",{attrs:{id:"suckwrapper"}},[i("CbcSuck")],1)},j=[],x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(this.$store.state.sections,(function(t){return i("div",{key:t.title},[t.load?i("NewsSection",{attrs:{section:t}}):e._e()],1)})),0)},C=[],S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"section "},[i("h1",{staticClass:"bg-dark title"},[e._v(e._s(e.section.title))]),i("div",{staticClass:"row"},[e._l(e.section.briefs.slice(0,1),(function(t,n){return i("ArticleBriefOmicron",{key:t.title,attrs:{briefs:e.section.briefs,brief:t,index:n}})})),e._l(e.section.briefs.slice(1,5),(function(t,n){return i("ArticleBriefAlpha",{key:t.title,attrs:{briefs:e.section.briefs,brief:t,index:n+1}})}))],2),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},e._l(e.section.briefs.slice(5,13),(function(t,n){return i("ArticleBriefBeta",{key:t.title,attrs:{briefs:e.section.briefs,brief:t,index:n+5}})})),1),i("div",{staticClass:"col-12"},e._l(e.section.briefs.slice(13),(function(t,n){return i("ArticleBriefGamma",{key:t.title,attrs:{briefs:e.section.briefs,brief:t,index:n+13}})})),1)])])},A=[],O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col-12 col-sm-6 col-lg-4 alpha"},[i("div",{attrs:{id:"brief"}},[i("ArticleLink",{attrs:{brief:e.brief,index:e.index,briefs:e.briefs}},[i("img",{attrs:{src:e.brief.typeAttributes.imageLarge}}),i("div",{staticClass:"content"},[i("h4",{staticClass:"title"},[e._v(e._s(e.brief.title))]),i("div",[e._v(e._s(e.brief.typeAttributes.deck))]),i("div",{staticClass:"when"},[e._v(e._s(e.sinceWhen))])])])],1)])},I=[],E=i("c1df"),M=i.n(E),L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-link",{attrs:{to:{name:"article",query:{id:e.brief.sourceId},params:{brief:e.brief,briefs:e.briefs,index:e.index}}}},[e._t("default")],2)},T=[],$={name:"ArticleLink",props:{brief:Object,briefs:Array,index:Number}},P=$,N=(i("7c02"),i("2877")),B=Object(N["a"])(P,L,T,!1,null,"eea4c368",null),z=B.exports,q={name:"ArticleBriefAlpha",props:{index:Number,brief:Object,briefs:Array},components:{ArticleLink:z},computed:{sinceWhen:function(){return this.brief&&this.brief.publishedAt?M()(this.brief.publishedAt).fromNow():""}}},W=q,D=(i("f901"),Object(N["a"])(W,O,I,!1,null,"0e2b3099",null)),H=D.exports,R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ArticleLink",{attrs:{brief:e.brief,index:e.index,briefs:e.briefs}},[i("div",{staticClass:"beta"},[i("img",{staticClass:"float-left",attrs:{src:e.brief.images.square_140}}),i("h4",[e._v(e._s(e.brief.title))]),i("div",[e._v(e._s(e.brief.typeAttributes.deck)+"  "),i("span",{staticClass:"when"},[e._v(e._s(e.sinceWhen))])])])])},U=[],F={name:"ArticleBriefBeta",props:{index:Number,brief:Object,briefs:Array},components:{ArticleLink:z},computed:{sinceWhen:function(){return this.brief?M()(this.brief.publishedAt).fromNow():""}}},G=F,V=(i("6287"),Object(N["a"])(G,R,U,!1,null,"59ce2f02",null)),Y=V.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gamma"},[i("ArticleLink",{attrs:{brief:e.brief,index:e.index,briefs:e.briefs}},[i("h4",[e._v(e._s(e.brief.title))])])],1)},X=[],Z={name:"ArticleBriefGamma",props:{index:Number,brief:Object,briefs:Array},components:{ArticleLink:z},computed:{sinceWhen:function(){return this.brief?M()(this.brief.publishedAt).fromNow():""}}},K=Z,Q=(i("95b2"),Object(N["a"])(K,J,X,!1,null,"a5dcf37e",null)),ee=Q.exports,te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col-12 col-lg-8 omicron"},[i("div",{staticClass:"brief"},[i("ArticleLink",{attrs:{brief:e.brief,index:e.index,briefs:e.briefs}},[i("h2",[e._v(e._s(e.brief.title))]),i("img",{attrs:{src:e.brief.typeAttributes.imageLarge}}),i("div",{staticClass:"description"},[e._v("\n          "+e._s(e.title)+"\n          "),i("div",{staticClass:"when"},[e._v(e._s(e.sinceWhen))])])])],1)])},ie=[],ne={name:"ArticleBriefOmicron",props:{index:Number,brief:Object,briefs:Array},components:{ArticleLink:z},computed:{title:function(){return this.brief.description.length<400?this.brief.description:this.brief.title},sinceWhen:function(){return this.brief?M()(this.brief.publishedAt).fromNow():""}}},se=ne,re=(i("0b97"),Object(N["a"])(se,te,ie,!1,null,"3bd43081",null)),ae=re.exports,ce={name:"NewsSection",props:{section:Object},components:{ArticleBriefOmicron:ae,ArticleBriefAlpha:H,ArticleBriefBeta:Y,ArticleBriefGamma:ee},mounted:function(){this.$store.dispatch("getBriefs",this.section)}},oe=ce,le=(i("283b"),Object(N["a"])(oe,S,A,!1,null,"285adefc",null)),ue=le.exports,de={name:"CbcSuck",components:{NewsSection:ue},props:{}},me=de,fe=Object(N["a"])(me,x,C,!1,null,null,null),pe=fe.exports,he=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"suckwrapper"},[i("NavBar"),i("div",{class:e.isSmall?"suck container-fluid bg-dark px-0 no-o":"suck container-fluid bg-dark"},[e._t("default")],2)],1)},be=[],ve=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-navbar",{staticClass:"navbar",class:{"navbar--hidden":!e.showNavbar},attrs:{toggleable:"lg",type:"dark",variant:"dark",sticky:""}},[i("b-navbar-brand",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#suckwrapper",expression:"'#suckwrapper'"}],attrs:{to:{name:"root"}}},[e._v("thenews - cbc")]),i("b-navbar-nav",{staticClass:"ml-auto"},[i("b-nav-item",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#suckwrapper",expression:"'#suckwrapper'"}],attrs:{to:{name:"about"},right:""}},[e._v("about")])],1)],1)},ge=[],_e={name:"NavBar",data:function(){return{showNavbar:!0,lastScrollPosition:0}},mounted:function(){window.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)},methods:{onScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop;e<0||Math.abs(e-this.lastScrollPosition)<60||(this.showNavbar=e<this.lastScrollPosition,this.lastScrollPosition=e)}}},we=_e,ke=(i("3f10"),Object(N["a"])(we,ve,ge,!1,null,"91d3089e",null)),ye=ke.exports,je=360,xe={name:"SuckWrapper",components:{NavBar:ye},data:function(){return{isSmall:window.innerWidth<=je}},created:function(){var e=this;addEventListener("resize",(function(){e.isSmall=innerWidth<=je}))}},Ce=xe,Se=(i("1716"),Object(N["a"])(Ce,he,be,!1,null,"27df0c75",null)),Ae=Se.exports,Oe=i("5f5b");i("f9e3"),i("2dd8");n["default"].use(Oe["a"]);var Ie={title:"thenews",name:"app",components:{CbcSuck:pe,SuckWrapper:Ae},data:function(){return{title:"thenews"}},ready:function(){},methods:{leaving:function(){},handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight+1200>=document.documentElement.offsetHeight;e&&this.$store.commit("fetchAnother")},goBack:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/")}},created:function(){window.addEventListener("beforeunload",this.leaving),window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},Ee=Ie,Me=(i("034f"),Object(N["a"])(Ee,y,j,!1,null,null,null)),Le=Me.exports,Te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("SuckWrapper",[e.article?i("div",{staticClass:"article"},[e.tweets?i("script",{attrs:{type:"application/javascript",async:"",src:"https://platform.twitter.com/widgets.js",charset:"utf-8"}}):e._e(),e.fbvids||e.fbposts?i("script",{attrs:{async:"",defer:"",type:"application/javascript",crossorigin:"anonymous",src:"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v4.0&appId=11795118091"}}):e._e(),i("div",{staticClass:"thetop"},[i("i",{staticClass:"byline"},[e._v(e._s(e.article.byline))]),i("div",{staticClass:"headline when"},[e._v(e._s(e.article.pubdate))]),i("h2",[e._v(e._s(e.article.headline))]),i("div",{staticClass:"summary"},[e._v(e._s(e.article.summary))])]),i("div",{staticClass:"image-wrapper"},[i("img",{attrs:{src:e.article.leadimage.originalimage.fileurl}}),i("div",{staticClass:"description"},[e._v(e._s(e.article.leadimage.description)+" "),i("i",[e._v(e._s(e.article.leadimage.credit))])])]),e._l(e.article.pieces,(function(e){return i("ArticlePiece",{key:e.key,attrs:{piece:e}})})),i("i",e._b({},"i",e.article.authorsource,!1)),e._l(e.article.attribution.authors,(function(e){return i("AuthorBio",{key:e.key,attrs:{author:e}})})),e.article.displaycomments?i("Vitriol",{attrs:{article:e.article}}):e._e()],2):e._e(),e.similars.length>0?i("div",{staticClass:"similar"},[i("h2",[e._v("Related Articles")]),i("div",{},[i("div",{staticClass:"row"},e._l(e.similars,(function(t){return i("div",{key:t.key,staticClass:"col col-12 col-sm-6 col-xl-4",attrs:{brief:t}},[t.sourceId?i("div",{staticClass:"content"},[i("router-link",{attrs:{to:{name:"article",query:{id:t.sourceId},params:{}}}},[i("img",{attrs:{src:t.imageUrl}}),i("div",{staticClass:"description"},[i("h5",[e._v(e._s(t.title))]),i("div",{staticClass:"when"},[e._v(e._s(t.pubdate))]),i("div",[e._v(e._s(t.deck))])])])],1):e._e()])})),0)]),e.article.debug?i("JsonViewer",{attrs:{value:e.article,"expand-depth":5,copyable:"",sort:""}}):e._e()],1):e._e()])},$e=[],Pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",["text"===e.piece.type?i("div",{staticClass:"p",domProps:{innerHTML:e._s(e.piece.value)}}):e._e(),"image"===e.piece.type?i("div",{staticClass:"image-wrapper"},[e.piece.link?i("a",{attrs:{href:e.piece.link}},[i("img",{staticClass:"story",attrs:{src:e.piece.url}}),e.piece.description?i("div",{staticClass:"description"},[i("div",{domProps:{innerHTML:e._s(e.piece.description)}}),i("i",{domProps:{innerHTML:e._s(e.piece.credit)}})]):e._e()]):i("div",[i("img",{staticClass:"story",attrs:{src:e.piece.url}}),e.piece.description?i("div",{staticClass:"description"},[i("div",{domProps:{innerHTML:e._s(e.piece.description)}}),i("i",{domProps:{innerHTML:e._s(e.piece.credit)}})]):e._e()])]):e._e(),"twitter"===e.piece.type?i("div",{staticClass:"d-flex justify-content-center twitter",domProps:{innerHTML:e._s(e.piece.body)}}):e._e(),e.piece.type.startsWith("iframe")?i("div",{staticClass:"image-wrapper"},[i("IFrameVideo",{attrs:{cssClass:e.piece.subtype,src:e.piece.src}}),e.piece.description?i("div",{staticClass:"description"},[i("div",{domProps:{innerHTML:e._s(e.piece.description)}})]):e._e()],1):e._e(),"gallery"===e.piece.type?i("div",{staticClass:"gallery"},[i("div",{staticClass:"row"},e._l(e.images,(function(t,n){return i("div",{key:t.url,staticClass:"col"},[i("img",{staticClass:"image",attrs:{alt:t.name,src:t.url},on:{click:function(t){return e.setIndex(n)}}})])})),0),i("vue-gallery-slideshow",{attrs:{images:e.images,index:e.index},on:{close:function(t){e.index=null}}})],1):e._e(),"facebookvideo"===e.piece.type?i("div",{staticClass:"facebookvideo"},[i("div",{staticClass:"fb-video fb_iframe_widget fb_iframe_widget_fluid_desktop",attrs:{"data-href":e.piece.src,"data-show-text":"false"}},[i("div",{staticClass:"fb-xfbml-parse-ignore"},[i("blockquote",{attrs:{cite:e.piece.src}},[i("a",{attrs:{href:e.piece.src}},[e._v("How to Share With Just Friends")]),i("p",[e._v("How to share with just friends.")]),e._v("\n          Posted by "),i("a",{attrs:{href:"https://www.facebook.com/facebook/"}},[e._v("Facebook")]),e._v(" on Friday, December 5, 2014\n        ")])])])]):e._e(),"facebookpost"===e.piece.type?i("div",{staticClass:"d-flex justify-content-center"},[i("div",{staticClass:"fb-post",attrs:{"data-href":e.piece.src,"data-show-text":"true"}})]):e._e(),"raw"===e.piece.type?i("div",{staticClass:"p",domProps:{innerHTML:e._s(e.piece.body)}}):e._e()])},Ne=[],Be=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.cssClass},[i("iframe",{staticClass:"the-frame",attrs:{src:e.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})])},ze=[],qe={name:"IFrameVideo",props:{src:String,cssClass:String}},We=qe,De=(i("e408"),Object(N["a"])(We,Be,ze,!1,null,"2443a523",null)),He=De.exports,Re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"modal"}},[null!==e.imgIndex?i("div",{staticClass:"vgs text-center",on:{click:e.close}},[i("button",{staticClass:"vgs__close",attrs:{type:"button"},on:{click:e.close}},[e._v("\n      ×\n    ")]),e.isMultiple?i("button",{staticClass:"vgs__prev",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.onPrev(t)}}},[e._v("\n      ‹\n    ")]):e._e(),e.images?i("div",{staticClass:"vgs__container",on:{click:function(t){return t.stopPropagation(),e.onNext(t)}}},[i("img",{staticClass:"vgs__container__img",attrs:{src:e.imageUrl},on:{click:function(t){return t.stopPropagation(),e.onNext(t)}}})]):e._e(),e.isMultiple?i("button",{staticClass:"vgs__next",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.onNext(t)}}},[e._v("\n      ›\n    ")]):e._e(),e.isMultiple?i("div",{ref:"gallery",staticClass:"vgs__gallery"},[e.images?i("div",{staticClass:"vgs__gallery__title"},[e._v("\n        "+e._s(e.imgIndex+1)+" / "+e._s(e.images.length)+"\n      ")]):e._e(),e.images?i("div",{staticClass:"vgs__gallery__container",style:{transform:"translate("+e.galleryXPos+"px, 0)"}},e._l(e.images,(function(t,n){return i("img",{key:n,staticClass:"vgs__gallery__container__img",class:{"vgs__gallery__container__img--active":n===e.imgIndex},attrs:{src:t.url},on:{click:function(i){return i.stopPropagation(),e.onClickThumb(t,n)}}})})),0):e._e()]):e._e()]):e._e()])},Ue=[],Fe={props:{images:{type:Array,required:!0},index:{type:Number,required:!1,default:null}},data:function(){return{imgIndex:this.index,image:null,galleryXPos:0,thumbnailWidth:120}},computed:{imageUrl:function(){return this.images[this.imgIndex].url},imageDescription:function(){return this.images[this.imgIndex].description},imageName:function(){return this.images[this.imgIndex].name},isMultiple:function(){return this.images.length>1}},watch:{index:function(e){this.imgIndex=e}},mounted:function(){var e=this;window.addEventListener("keydown",(function(t){37===t.keyCode?e.onPrev():39===t.keyCode?e.onNext():27===t.keyCode&&e.close()}))},methods:{close:function(){this.imgIndex=null,this.$emit("close")},onPrev:function(){null!==this.imgIndex&&(this.imgIndex>0?this.imgIndex--:this.imgIndex=this.images.length-1,this.updateThumbails())},onNext:function(){null!==this.imgIndex&&(this.imgIndex<this.images.length-1?this.imgIndex++:this.imgIndex=0,this.updateThumbails())},onClickThumb:function(e,t){this.imgIndex=t,this.updateThumbails()},updateThumbails:function(){if(this.$refs.gallery){var e=this.$refs.gallery.clientWidth,t=this.imgIndex*this.thumbnailWidth,i=this.images.length*this.thumbnailWidth,n=Math.floor(e/(2*this.thumbnailWidth))*this.thumbnailWidth;i<e||(t<n?this.galleryXPos=0:t>this.images.length*this.thumbnailWidth-e+n?this.galleryXPos=-(this.images.length*this.thumbnailWidth-e-20):this.galleryXPos=-this.imgIndex*this.thumbnailWidth+n)}}}},Ge=Fe,Ve=(i("a58e"),i("6f73"),Object(N["a"])(Ge,Re,Ue,!1,null,"27996cf1",null)),Ye=Ve.exports,Je={name:"ArticlePiece",props:{piece:Object},data:function(){return{images:null,index:null}},methods:{setIndex:function(e){this.index=e}},components:{VueGallerySlideshow:Ye,IFrameVideo:He},created:function(){this.images=this.piece.images,this.index=null}},Xe=Je,Ze=(i("a830"),Object(N["a"])(Xe,Pe,Ne,!1,null,"79a91158",null)),Ke=Ze.exports,Qe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"author_info"},[i("i",[e._v(e._s(e.author.name))])])},et=[],tt={name:"AuthorBio",props:{author:Object}},it=tt,nt=(i("f0b7"),Object(N["a"])(it,Qe,et,!1,null,"62aea3ec",null)),st=nt.exports,rt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vitriol"},[i("div",{staticClass:"row"},[i("div",{class:"col-"+(e.counter>e.limit?6:12)},[i("button",{staticClass:"btn btn-outline-danger btn-block",attrs:{disabled:e.loading,type:"button"},on:{click:e.getComments}},[e.loading?i("div",[e._v("Fetching vitriol ("+e._s(e.counter)+")")]):e._e(),e.loading?e._e():i("div",[0===e.comments.length?i("div",[e._v("Load comments")]):e._e(),e.comments.length>0?i("div",[e._v("Reload • "+e._s(e.label))]):e._e()])])]),e.counter>e.limit?i("div",{staticClass:"col-6"},[!e.loading&&e.counter>e.limit?i("button",{staticClass:"btn btn-outline-danger btn-block",attrs:{disabled:e.loading,type:"button"},on:{click:e.getAllComments}},[e._v("\n                Get all • ~"+e._s(e.estimate)+"\n            ")]):e._e()]):e._e()]),e.counter>0?i("div",[e.counter>e.limit?i("div",{staticClass:"text-center"},[e._v("Showing most recent "+e._s(e.limit)+" of around "+e._s(e.estimate))]):e._e(),i("vue-slider",{staticClass:"slider",attrs:{"enable-cross":!1,"min-range":5,order:!0,marks:e.marks,tooltip:"none"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._l(e.comments,(function(t){return i("div",{key:t.id},[i("Comment",{attrs:{comment:t,depth:0,min:e.value[0],max:e.value[1]}})],1)}))],2):e._e()])},at=[],ct=i("4971"),ot=i.n(ct),lt=(i("3e39"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.score>=e.min&&e.score<=e.max?i("div",{staticClass:"comment"},[i("ul",{staticClass:"list-inline"},[e.open?i("li",{staticClass:"list-inline-item"},[i("svg",{staticClass:"positive",attrs:{id:"i-chevron-top",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"16",height:"16",fill:"none",stroke:"currentcolor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3"}},[i("path",{attrs:{d:"M30 20 L16 8 2 20"}})])]):e._e(),i("li",{class:"list-inline-item when likes"+(e.open?"":" indent")},[i("span",{class:e.rating<0?"negative":"positive"},[e._v(e._s(e.rating>0?"+":"")+e._s(""+e.num(e.comment.num_likes-e.comment.num_dislikes)))]),e._v("\n      "+e._s("(+"+e.num(e.comment.num_likes)+"/-"+e.num(e.comment.num_dislikes)+")")+"\n    ")]),e.open?i("li",{staticClass:"list-inline-item reply"},[i("button",{staticClass:"btn btn-text",on:{click:e.reply}},[i("svg",{attrs:{id:"i-reply",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"16",height:"16",fill:"none",stroke:"currentcolor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3"}},[i("path",{attrs:{d:"M10 6 L3 14 10 22 M3 14 L18 14 C26 14 30 18 30 26"}})])])]):e._e()]),i("ul",{staticClass:"list-inline"},[e.open?i("li",{staticClass:"list-inline-item"},[i("svg",{staticClass:"negative",attrs:{id:"i-chevron-bottom",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"16",height:"16",fill:"none",stroke:"currentcolor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3"}},[i("path",{attrs:{d:"M30 12 L16 24 2 12"}})])]):e._e(),i("li",{class:"list-inline-item"+(e.open?"":" indent")},[i("a",{attrs:{href:"javascript:()=>{}"},on:{click:function(t){e.showmodal=!0}}},[i("span",{staticClass:"who"},[e._v(e._s(e.comment.user.name))]),e._v("  \n        "),i("span",{staticClass:"when"},[e._v(e._s(e.when))])])])]),i("div",{staticClass:"gutter dont-break-out"},[e._l(e.content,(function(t,n){return i("p",{directives:[{name:"linkified",rawName:"v-linkified:options",value:{format:e.linkFormat},expression:"{ format: linkFormat }",arg:"options"}],key:n,domProps:{innerHTML:e._s(t)}})})),e._l(e.comment.children,(function(e){return i("Comment",{key:e.id,attrs:{comment:e,depth:1,min:0,max:100}})}))],2),e.showmodal?i("PosterInfo",{attrs:{comment:e.comment},on:{close:function(t){e.showmodal=!1}}}):e._e(),e.showModal?i("Modal",{on:{close:function(t){e.showModal=!1}}},[e._v("HI")]):e._e()],1):e._e()}),ut=[],dt=(i("6b54"),i("6612")),mt=i.n(dt),ft=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"modal"}},[i("a",{on:{click:function(t){return e.$emit("close")}}},[i("div",{directives:[{name:"focus",rawName:"v-focus"}],ref:"posterInfo",staticClass:"modal-mask text-center",attrs:{tabindex:"0"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("close")}}},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-container modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[e.validImage?i("img",{attrs:{src:e.comment.user.pic_large},on:{error:function(t){e.validImage=!1}}}):e._e(),i("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[e._v(e._s(e.comment.user.name))]),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){return e.$emit("close")}}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),i("div",{staticClass:"modal-body"},[i("ul",{staticClass:"list-unstyled"},[i("li",[e._v("Comment received "+e._s(e.num(e.comment.num_likes))+" like"+e._s(1===e.comment.num_likes?"":"s")+", "+e._s(e.num(e.comment.num_dislikes))+" dislike"+e._s(1===e.comment.num_dislikes?"":"s")+".")]),i("li",[e._v("User since "+e._s(e.registered)+".")])]),i("table",{staticClass:"table small"},[i("thead",[i("tr",[i("th",{attrs:{scope:"col"}},[i("i",[e._v("Poster Stats")])]),i("th",{attrs:{scope:"col"}},[e._v("Made")]),i("th",{attrs:{scope:"col"}},[e._v("Received")])])]),i("tbody",[i("tr",[i("th",{attrs:{scope:"row"}},[e._v("Comments")]),i("td",[e._v(e._s(e.num(e.comment.user.comments_made)))]),i("td",[e._v(e._s(e.num(e.comment.user.comments_received)))])]),i("tr",[i("th",{attrs:{scope:"row text-right"}},[e._v("Likes")]),i("td",[e._v(e._s(e.num(e.comment.user.likes_made)))]),i("td",[e._v(e._s(e.num(e.comment.user.likes_received)))])]),i("tr",[i("th",{attrs:{scope:"row"}},[e._v("Disikes")]),i("td",[e._v(e._s(e.num(e.comment.user.dislikes_made)))]),i("td",[e._v(e._s(e.num(e.comment.user.dislikes_received)))])])])])])])])])])])])},pt=[],ht={props:{comment:Object},computed:{registered:function(){return M()(1e3*this.comment.user.date_created).format("MMMM DD, YYYY")}},data:function(){return{validImage:!!this.comment.user.pic_large}},methods:{num:function(e){return mt()(e).format("0,0")}}},bt=ht,vt=(i("de83"),Object(N["a"])(bt,ft,pt,!1,null,"7aa111f7",null)),gt=vt.exports,_t=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"modal"}},[null!==e.imgIndex?i("div",{staticClass:"vgs text-center",on:{click:e.close}},[e._t("default")],2):e._e()])},wt=[],kt={mounted:function(){var e=this;window.addEventListener("keydown",(function(t){27===t.keyCode&&e.close()}))},methods:{close:function(){this.imgIndex=null,this.$emit("close")}}},yt=kt,jt=(i("30db"),Object(N["a"])(yt,_t,wt,!1,null,null,null)),xt=jt.exports,Ct={name:"Comment",components:{PosterInfo:gt,Modal:xt},props:{comment:Object,depth:Number,min:Number,max:Number},data:function(){return{showmodal:!1,open:"closed"!==this.comment.page.status,showModal:!1}},computed:{rating:function(){return this.comment.num_likes-this.comment.num_dislikes},content:function(){var e=this.comment.content;return this.comment.parent&&(e=e.replace(/Reply to @.*:/,"").replace("^@".concat(this.comment.parent.user.name),"")),e.split(/\n{2,}/g)},colour:function(){var e="black";if(this.score<50){var t=255*(100-this.score)/100,i=Number(parseInt(t,10)).toString(16);e="#"+i+i+i}return e},score:function(){var e=50;return e=this.comment.num_likes+this.comment.num_dislikes===0?.5:this.comment.num_likes>this.comment.num_dislikes?this.comment.num_likes/(this.comment.num_likes+this.comment.num_dislikes):1-this.comment.num_dislikes/(this.comment.num_likes+this.comment.num_dislikes),Math.round(100*e,0)},when:function(){var e=M()(),t=M()(1e3*this.comment.date_created);if(e.isBefore(t))return e.fromNow();var i=e.diff(t,"days");return i>1?t.format("MMM Do YYYY @ h:mm a"):t.fromNow()},theClass:function(){var e="col ";switch(e){case 0:e+="col-md-12";break;case 1:e+="col-md-10 col-md-offset-2";break}return e}},methods:{num:function(e){return mt()(e).format("0,0")},reply:function(){this.showmodal=!0},linkFormat:function(e,t){return"url"===t&&e.length>50&&(e=e.slice(0,50)+"…"),e}}},St=Ct,At=(i("e411"),Object(N["a"])(St,lt,ut,!1,null,"02fd39d7",null)),Ot=At.exports,It=i("bc3a"),Et=i.n(It),Mt={components:{Comment:Ot,VueSlider:ot.a},props:{article:Object},computed:{label:function(){return this.counter<=this.limit?this.counter:"".concat(this.limit,"+")},counter:function(){var e=function(e,t){return e+1+t.thread.results.length};return this.comments.reduce(e,0)},estimate:function(){var e=Math.round(this.total*this.counter/this.comments.length,0);return e>1e3?"".concat(Math.round(e/1e3,0),"k"):100*Math.round(e/100,0)}},data:function(){return{comments:[],loading:!1,value:[0,100],limit:350,total:0,batch:10,marks:{0:"😭",25:"😢",50:"😑",75:"😊",100:"😆"}}},methods:{buildTree:function(e,t){var i=this;e.children=[];var n=[];t.forEach((function(t){t.parent_id===e.id?(t.parent=e,e.children.push(t)):n.push(t)})),e.children.forEach((function(e){return i.buildTree(e,n)}))},suckSome:function(e){var t=this;return Et.a.get("https://api.viafoura.co/v2/?json=".concat(JSON.stringify(e))).then((function(i){t.total=i.data.responses.mybutt.result.total_count;var n=i.data.responses.mybutt.result.results;return n.forEach((function(e){return t.buildTree(e,e.thread.results)})),t.comments=t.comments.concat(i.data.responses.mybutt.result.results),t.counter<t.limit&&i.data.responses.mybutt.result.after_count>0?(e.requests.mybutt.after_id=t.comments[t.comments.length-1].id,t.suckSome(e)):null}),(function(){t.loading=!1}))},getAllComments:function(){this.limit=5e4,this.getComments()},getComments:function(){var e=this,t={section:this.article.vfsection,meta:{title:this.article.title,url:this.article.url,unique_id:this.article.id,page_type:"article",owners:[],section:this.article.vfsection}};this.loading=!0,Et.a.post("https://api.viafoura.co/v2/www.cbc.ca/bootstrap",t).then((function(e){return e.data.result.page.id}),(function(){e.loading=!1})).then((function(t){e.batch<100&&(e.batch+=10);var i={site:"www.cbc.ca",requests:{mybutt:{limit:e.batch,child_limit:100,sort:"newest",section:e.article.vfsection,verb:"get",route:"/pages/".concat(t,"/threads")}}};return e.comments=[],e.suckSome(i)})).then((function(){e.loading=!1,e.batch=10}))}}},Lt=Mt,Tt=(i("dd28"),Object(N["a"])(Lt,rt,at,!1,null,"d69e494c",null)),$t=Tt.exports,Pt=i("349e"),Nt=i.n(Pt),Bt={title:function(){return this.article?this.article.headline:null},name:"ArticleDetail",components:{ArticlePiece:Ke,AuthorBio:st,Vitriol:$t,JsonViewer:Nt.a,SuckWrapper:Ae},props:{brief:Object,article:Object},computed:{tweets:function(){return this.article.pieces.filter((function(e){return"twitter"===e.type})).length>0},fbvids:function(){return this.article.pieces.filter((function(e){return"facebookvideo"===e.type})).length>0},fbposts:function(){return this.article.pieces.filter((function(e){return"facebookpost"===e.type})).length>0},similars:function(){if(this.article){var e=this.article.pieces.filter((function(e){return"similar"===e.type}));for(var t in e.length%3)e.push({key:"pad".concat(t)});return e.sort((function(e,t){return t.sort-e.sort})),e}return[]},url:function(){return"https://www.cbc.ca/json/cmlink/".concat(this.$route.query.id)}},mounted:function(){this.article||this.$router.replace({name:"article",query:{id:this.$route.query.id},params:{}})},updated:function(){this.article||this.$router.replace({name:"article",query:{id:this.$route.query.id},params:{}})}},zt=Bt,qt=(i("d7df"),Object(N["a"])(zt,Te,$e,!1,null,"68ea1137",null)),Wt=qt.exports,Dt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ht=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h1",{staticClass:"text-center"},[e._v("Loading")]),i("img",{attrs:{src:"3298498-metal_panel_006.png"}})])}],Rt={mounted:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.getters.getArticle(this.$route.query.id);case 2:t=e.sent,this.$router.replace({name:"articleDetail",query:{id:this.$route.query.id},params:{article:t}});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},Ut=Rt,Ft=(i("92cd"),Object(N["a"])(Ut,Dt,Ht,!1,null,"216a38ea",null)),Gt=Ft.exports,Vt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("swiper",{attrs:{options:e.swiperOption},on:{slideChange:e.loadAnotherSlide}},[e._l(e.swiperSlides,(function(t){return i("swiper-slide",{key:t.html,staticClass:"theback"},[e._v("Slide "+e._s(t.html))])})),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}),i("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),i("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2)},Yt=[],Jt=(i("dfa4"),{data:function(){return{swiperOption:{slidesPerView:1,centeredSlides:!0,spaceBetween:30,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},swiperSlides:[{html:1},{html:2}]}},methods:{loadAnotherSlide:function(){this.appendSlide()},appendSlide:function(){this.swiperSlides.push({html:this.swiperSlides.length+1})},prependSlide:function(){this.swiperSlides.unshift({html:this.swiperSlides[0]-1})},popSlide:function(){this.swiperSlides.pop()},shiftSlide:function(){this.swiperSlides.shift()}}}),Xt=Jt,Zt=(i("c0f2"),Object(N["a"])(Xt,Vt,Yt,!1,null,"1833358f",null)),Kt=Zt.exports,Qt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"note note--down"},[i("p",[e._v(e._s(e.note))])]),i("div",{staticClass:"login"},[e._m(0),i("section",{staticClass:"login--section"},[i("form",{staticClass:"login--form",on:{submit:function(t){return t.preventDefault(),e.makeAuth(t)}}},[i("fieldset",[i("input",{attrs:{type:"text",placeholder:"account ID",required:""},on:{focus:e.inputFocus}}),i("svg",{staticClass:"line",attrs:{viewbox:"0 0 100 1"}},[i("path",{staticClass:"line--default",attrs:{d:"M0 0 L100 0"}})])]),i("fieldset",[i("input",{attrs:{type:"password",placeholder:"password",required:""},on:{focus:e.inputFocus}}),i("svg",{staticClass:"line",attrs:{viewbox:"0 0 100 1"}},[i("path",{staticClass:"line--default",attrs:{d:"M0 0 L100 0"}})])]),e._m(1)])])])])},ei=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",{staticClass:"login--header"},[i("span",[e._v("Log In")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("fieldset",[i("button",{staticClass:"btn",attrs:{type:"submit"}},[e._v("Login")])])}],ti={name:"Login",data:function(){return{note:""}},watch:{note:function(){var e=document.querySelector(".note");this.note.length?e.classList.add("note--up"):(e.classList.remove("note--up"),e.classList.add("note--down"))}},methods:{makeAuth:function(e){this.note="Login failed"+JSON.stringify(e)},inputFocus:function(){this.note=""}}},ii=ti,ni=(i("9c6f"),Object(N["a"])(ii,Qt,ei,!1,null,"6fe7a2f6",null)),si=ni.exports,ri=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SuckWrapper",[n("div",{staticClass:"section"},[n("h1",{staticClass:"bg-dark title"},[e._v("about")]),n("div",{staticClass:"about row"},[n("div",{staticClass:"col"},[n("h2",[e._v("What is this site?")]),n("p",[e._v("This site shows cbc news stories in a speedy interface without any tracking scripts or ads.")]),n("h2",[e._v("So why did you make it?")]),n("p",[e._v("I wanted to try out "),n("a",{attrs:{href:"https://vuejs.org"}},[e._v("vuejs")]),e._v(", and I'm a news junkie.  I don't care for the cbc news site, so I built this.  This is something I find interesting and satisfying to do.")]),n("h2",[e._v("Is the cbc news site really so bad?")]),n("p",[n("ul",[n("li",[e._v("\n                          The "),n("a",{attrs:{href:"https://www.reddit.com/r/canada/comments/7ecpxk/cbcs_new_layout_website_is_goddamn_terrible/"}},[e._v("layout")]),e._v("\n                          and "),n("a",{attrs:{href:"https://www.reddit.com/r/canada/comments/777v86/can_we_talk_about_how_ugly_the_new_cbc_website_is/"}},[e._v("look")]),e._v(" of the cbc news isn't to my taste.\n                      ")]),n("li",[e._v("\n                          The cbc news site employs too many trackers for my liking.  There's none on this site, with the exception of whatever goes on in the embedded media players.\n                      ")]),n("li",[e._v("\n                          I don't like how the comment system only shows a handful of comments at a time.  It also flattens threads down to 2 levels deep, even when some threads are much deeper.\n                      ")])])]),n("h2",[e._v("Have you got any changes planned?")]),n("p",[e._v("There's some features that I'd like to build.")]),n("ul",[n("li",[e._v("settings section\n                  "),n("ul",[n("li",[e._v("turn social media and player pieces on or off")]),n("li",[e._v("customize what news topics are shown, and in what order")]),n("li",[e._v("optional interface to navigate news topics and articles by swiping")])])]),n("li",[e._v("comment system interactions\n                      "),n("ul",[n("li",[e._v("posting & replying")]),n("li",[e._v("upvoting & downvoting")]),n("li",[e._v("bot detection and silencing")])])]),n("li",[e._v("hook into reddit subs for articles that don't allow comments")]),n("li",[e._v("dark mode")])]),n("h2",[n("i",[e._v("OMG!  This is so cool, can I help?")])]),n("p",[e._v("No thanks, I'm good.")]),n("h2",[e._v("Contact the author")]),n("p",[e._v("\n                  I can be reached at\n                  "),n("a",{attrs:{href:"mailto:thepenismightierer@pm.me"}},[e._v("thepenismightierer@pm.me")]),e._v(".")]),n("h2",[e._v("Like what you see?")]),n("p",[e._v("Send me some "),n("b-img",{staticClass:"bitcoin",attrs:{alt:"bitcoin",src:i("2480")}}),e._v("!")],1),n("a",{attrs:{href:"bitcoin:"+e.address}},[n("qrcode-vue",{attrs:{value:"bitcoin:"+e.address,size:e.size,level:"H"}})],1),n("div",{staticClass:"address"},[e._v(e._s(e.address))])])])])])},ai=[],ci={data:function(){return{address:"14zHhj1V9kmg5TB3TFDR9FytKtYprHgxFP",size:200}},components:{SuckWrapper:Ae}},oi=ci,li=(i("5451"),Object(N["a"])(oi,ri,ai,!1,null,"18cfb898",null)),ui=li.exports,di=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-view")},mi=[],fi={},pi=Object(N["a"])(fi,di,mi,!1,null,null,null),hi=pi.exports,bi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("img",{attrs:{src:e.src}})},vi=[],gi={name:"ImageViewer",props:["src"]},_i=gi,wi=Object(N["a"])(_i,bi,vi,!1,null,null,null),ki=wi.exports;function yi(e){var t=e.$options.title;if(t)return"function"===typeof t?t.call(e):t}var ji={created:function(){var e=yi(this);e&&(document.title=e)}},xi=i("9aa5"),Ci=i.n(xi);n["default"].use(s["a"]),n["default"].use(a.a),n["default"].use(l["a"]),n["default"].use(o.a),n["default"].component("qrcode-vue",u["a"]),n["default"].config.productionTip=!1,n["default"].mixin(ji),n["default"].directive("linkified",Ci.a),n["default"].directive("focus",{inserted:function(e){e.focus()}});var Si=new s["a"]({routes:[{path:"/cbc",name:"root",component:Le,children:[]},{path:"/articles",component:Kt},{name:"article",path:"/lookup",component:Gt,props:!0},{name:"about",path:"/about",component:ui},{name:"articleDetail",path:"/article",component:Wt,props:!0},{name:"image",path:"/image",component:ki,props:!0},{path:"*",redirect:"/cbc"},{name:"login",path:"/login",component:si}],scrollBehavior:function(e,t,i){return i||{x:0,y:0}}});new n["default"]({el:"#app",store:k,router:Si,render:function(e){return e(hi)}});var Ai=t["default"]={router:Si}},6287:function(e,t,i){"use strict";var n=i("8b72"),s=i.n(n);s.a},"64a9":function(e,t,i){},6675:function(e,t,i){},"695b":function(e,t,i){},"6f73":function(e,t,i){"use strict";var n=i("8496"),s=i.n(n);s.a},"712a":function(e,t,i){},"7c02":function(e,t,i){"use strict";var n=i("9781"),s=i.n(n);s.a},8496:function(e,t,i){},"8b72":function(e,t,i){},"8c10":function(e,t,i){},"92cd":function(e,t,i){"use strict";var n=i("e522"),s=i.n(n);s.a},"95b2":function(e,t,i){"use strict";var n=i("695b"),s=i.n(n);s.a},9781:function(e,t,i){},"9c6f":function(e,t,i){"use strict";var n=i("dfc4"),s=i.n(n);s.a},a58e:function(e,t,i){"use strict";var n=i("ea15"),s=i.n(n);s.a},a830:function(e,t,i){"use strict";var n=i("4899"),s=i.n(n);s.a},c0f2:function(e,t,i){"use strict";var n=i("ffa6"),s=i.n(n);s.a},c22d:function(e,t,i){},caf9:function(e,t,i){},cbce:function(e,t,i){},ccc8:function(e,t,i){},d74a:function(e,t,i){},d7df:function(e,t,i){"use strict";var n=i("ccc8"),s=i.n(n);s.a},dd28:function(e,t,i){"use strict";var n=i("6675"),s=i.n(n);s.a},de83:function(e,t,i){"use strict";var n=i("d74a"),s=i.n(n);s.a},dfc4:function(e,t,i){},e408:function(e,t,i){"use strict";var n=i("c22d"),s=i.n(n);s.a},e411:function(e,t,i){"use strict";var n=i("f20f"),s=i.n(n);s.a},e522:function(e,t,i){},ea15:function(e,t,i){},f0b7:function(e,t,i){"use strict";var n=i("cbce"),s=i.n(n);s.a},f20f:function(e,t,i){},f4d8:function(e,t,i){},f8a3:function(e,t,i){},f901:function(e,t,i){"use strict";var n=i("f4d8"),s=i.n(n);s.a},ffa6:function(e,t,i){}});